<h1><%=getLongName('table_name','expense_details')%>一覧</h1>

<!--
<div class="pagenate">
<%= @expense_detail_pages.current.previous ? link_to('前のページ', { :page => @expense_detail_pages.current.previous }) : '前のページ' %>
<%= @expense_detail_pages.current.next ? link_to('次のページ', { :page => @expense_detail_pages.current.next }) : '次のページ' %> 
</div>
-->

<table class="list_table">
  <tr>
    <th width="25"></th>
    <th width="25">id</th>
    <th width="25">uid</th>
    <th width="80">日付</th>
    <th width="65">受注No.</th>
    <th width="65">科目No.</th>
    <th width="400">内容</th>
    <th width="65">金額</th>
  </tr>

<% total = 0 %>
<% for expense_detail in @expense_details %>
<% total += expense_detail.amount %>
  <tr>
    <td align="center"><%= check_box_tag 'rowCheck', expense_detail.id, :onclick => "checkExpense_detail('#{url_for(:id => expense_detail)}');" %></td>
    <td align="center"><%= link_to "#{expense_detail.id}", :action => 'edit', :id => expense_detail %></td>
    <td align="center"><%=h expense_detail.user_id %></td>
    <td align="center"><%= link_to "#{expense_detail.buy_date.to_date}", :action => 'edit', :id => expense_detail %></td>
    <td align="center"><%=h expense_detail.book_no %></td>
    <td align="center"><%=h expense_detail.account_item %></td>
    <td><%=h expense_detail.content %></td>
    <td align="right"><%=h expense_detail.amount.to_i %></td>

<!--
  <% for column in ExpenseDetail.columns %>
    <% if system_column?(column.name) then next end %>
    <td><%=h expense_detail.send(column.name) %></td>
  <% end %>
    <td>
      <%= link_to '表示', :action => 'show', :id => expense_detail %>, 
      <%= link_to '変更', :action => 'edit', :id => expense_detail %>, 
      <%= link_to '削除', { :action => 'destroy', :id => expense_detail }, :confirm => 'この情報を削除します。よろしいですか?', :method => :post %>
    </td>
-->
  </tr>
<% end %>
  <tr style="background-color:#DCDCDC">
    <td align="center" colspan='7'>合計</td>
    <td align="right"><%=h total.to_i %></td>
  </tr>
</table>

<!--
<div class="pagenate">
<%= @expense_detail_pages.current.previous ? link_to('前のページ', { :page => @expense_detail_pages.current.previous }) : '前のページ' %>
<%= @expense_detail_pages.current.next ? link_to('次のページ', { :page => @expense_detail_pages.current.next }) : '次のページ' %> 
</div>
-->

<br />

<%= link_to (getLongName('table_name','expense_details')+'の新規作成'), :action => 'new' %>
